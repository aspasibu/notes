<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core">
<head>
<title>Notes</title>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
	integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
	crossorigin="anonymous" />
<link rel="stylesheet" href="css/style.css" />
</head>

<body>
	<h2>Notes application</h2>
	<hr />
	<div class="container col-xs-6">
		<h:form id="add-note">
			<div class="form-group">
				<label for="title">Title:</label>
				<h:inputText class="form-control" id="title"
					value="#{noteController.note.title}" />
			</div>
			<div class="form-group">
				<label for="text">Note:</label>
				<h:inputTextarea class="form-control" id="text" cols="30" rows="10"
					value="#{noteController.note.text}" />
			</div>
			<div class="form-group">
				<h:commandButton class="btn btn-default"
					action="#{noteController.addNote()}" value="add note">
					<f:ajax execute="title text" render="output add-note" />
				</h:commandButton>
			</div>

		</h:form>
	</div>

	<hr />
	<div class="container">
		<h:panelGroup id="output">
			<ui:repeat var="note" value="#{noteController.findAll()}">
				<div class="row">
					<label class="control-label col-xs-10">#{note.title}</label>
					<p class="col-xs-2" align="right">#{note.date}</p>
				</div>
				<div class="row">
					<textarea readonly="readonly" class="form-control col-xs-12">#{note.text}</textarea>
				</div>
				<hr />
			</ui:repeat>
		</h:panelGroup>

	</div>
</body>
</html>